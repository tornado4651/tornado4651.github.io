<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>初识Redis | Tornado4651</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这篇笔记记录了Redis的产生需求，相关数据库知识，上手操作，以及用法记录     NoSQL和SQL的对比 Redis的安装与使用（Linux版）： Redis基本命令 Redis的数据类型 数据类型总览 redis数据类型所有所有查看手册 KEY型 String型 List型 Set型 Zset型 Hash型">
<meta property="og:type" content="article">
<meta property="og:title" content="初识Redis">
<meta property="og:url" content="http://yoursite.com/2020/01/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/%E5%88%9D%E8%AF%86Redis/index.html">
<meta property="og:site_name" content="Tornado4651">
<meta property="og:description" content="这篇笔记记录了Redis的产生需求，相关数据库知识，上手操作，以及用法记录     NoSQL和SQL的对比 Redis的安装与使用（Linux版）： Redis基本命令 Redis的数据类型 数据类型总览 redis数据类型所有所有查看手册 KEY型 String型 List型 Set型 Zset型 Hash型">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/00831rSTly1gcexhe9nv1j30i60ilabh.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/00831rSTly1gcexbl314ij31hc0q4gqa.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/00831rSTly1gceye8j7p4j31hc0k2n1z.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/00831rSTly1gceyykd9cij30hv08rdg7.jpg">
<meta property="article:published_time" content="2019-12-31T16:00:00.000Z">
<meta property="article:modified_time" content="2020-03-02T15:39:55.557Z">
<meta property="article:author" content="Tornado4651">
<meta property="article:tag" content="Redis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tva1.sinaimg.cn/large/00831rSTly1gcexhe9nv1j30i60ilabh.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Tornado4651" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Tornado4651</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">编程从来不是一项技术，而是一种生活思想</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-数据库/Redis/初识Redis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/%E5%88%9D%E8%AF%86Redis/" class="article-date">
  <time datetime="2019-12-31T16:00:00.000Z" itemprop="datePublished">2020-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>►<a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/">Redis</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      初识Redis
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>这篇笔记记录了Redis的产生需求，相关数据库知识，上手操作，以及用法记录</p>
</blockquote>
<!-- toc -->

<ul>
<li><a href="#nosql和sql的对比">NoSQL和SQL的对比</a></li>
<li><a href="#redis的安装与使用linux版">Redis的安装与使用（Linux版）：</a></li>
<li><a href="#redis基本命令">Redis基本命令</a></li>
<li><a href="#redis的数据类型">Redis的数据类型</a><ul>
<li><a href="#数据类型总览">数据类型总览</a></li>
<li><a href="#redis数据类型所有所有查看手册">redis数据类型所有所有查看手册</a></li>
<li><a href="#key型">KEY型</a></li>
<li><a href="#string型">String型</a></li>
<li><a href="#list型">List型</a></li>
<li><a href="#set型">Set型</a></li>
<li><a href="#zset型">Zset型</a></li>
<li><a href="#hash型">Hash型</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->

<a id="more"></a>

<p>[toc]</p>
<h1><span id="nosql和sql的对比">NoSQL和SQL的对比</span></h1><p>NoSQL是指Not only SQL，是对SQL型数据库在大数据时代表现不足的一种性能扩展。</p>
<p>SQL型数据库中（以MySQL，Oracal为代表）的不足及演变过程：</p>
<p>单机型：</p>
<p>缓存结构：</p>
<p>主从结构：</p>
<p>集群结构：</p>
<p>NoSQL的特点：</p>
<p>NoSQL型的两大特点：CAP vs. ACID；BASE</p>
<p>NoSQL的分布式集群概述</p>
<h1><span id="redis的安装与使用linux版">Redis的安装与使用（Linux版）：</span></h1><p>下载地址：</p>
<ol>
<li><a href="https://redis.io/" target="_blank" rel="noopener">官网</a></li>
<li><a href="http://www.redis.cn/" target="_blank" rel="noopener">中文网址</a></li>
<li><a href="https://code.google.com/archive/p/redis/downloads" target="_blank" rel="noopener">Google Code上的历史版本</a></li>
<li><a href="https://github.com/dmajkic/redis/downloads" target="_blank" rel="noopener">github上的windows</a></li>
</ol>
<p>下载后将压缩包放在linux机器的/opt目录下并解压</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -xvzf redis-stable.tar.gz </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> redis-stable</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make</span></span><br></pre></td></tr></table></figure>

<p>使用make命令安装Redis，如果环境正确，提示安装成功</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcexhe9nv1j30i60ilabh.jpg" alt="安装成功"></p>
<p>如果未成功，是由于redis使用C++所编写，所以编译时要求提供gcc，提示没有安装gcc：</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcexbl314ij31hc0q4gqa.jpg" alt="安装错误提醒"></p>
<p>这时需要联网安装gcc，从镜像离线安装教程另寻百度</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> yum install gcc</span></span><br></pre></td></tr></table></figure>

<p>gcc安装成功后不要直接使用make命令安装，先清空上次安装一半的目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> make distclean</span></span><br></pre></td></tr></table></figure>

<p>之后再进行make命令，便会提示成功安装，并建议使用”make test“命令测试</p>
<p>运行使用redis服务端：在使用make命令编译成功后，进入redis解压目录的src目录下，会生成多个redis命令，使用其中的redis-server命令启动redis服务，默认端口6379</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gceye8j7p4j31hc0k2n1z.jpg" alt="启动redis服务成功"></p>
<p>同时在另一个回话窗口中同样进入安装目录的src下使用redis-cli登陆，并进行简单的测试和断连，退出</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gceyykd9cij30hv08rdg7.jpg" alt="redis客户端"></p>
<h1><span id="redis基本命令">Redis基本命令</span></h1><p>用指定的配置文件开启Redis服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> redis安装目录/src</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./redis-server 指定配置文件redis.conf的具体路径</span></span><br></pre></td></tr></table></figure>

<p>使用redis客户端连接服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> redis安装目录/src</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./redis-cli 服务器地址:端口号</span></span><br></pre></td></tr></table></figure>

<p>进入redis客户端后，测试连接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; ping</span><br></pre></td></tr></table></figure>

<p>切换数据库，默认生成16个库，Redis的索引都是从0开始：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; SELECT 数据库索引</span><br></pre></td></tr></table></figure>

<p>清空数据库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; FlUSHALL</span><br><span class="line">&gt; FLUSHDB</span><br></pre></td></tr></table></figure>

<p>补充：Redis默认情况下所有库的密码都是统一的，一起连接或都不连接。</p>
<h1><span id="redis的数据类型">Redis的数据类型</span></h1><h2><span id="数据类型总览">数据类型总览</span></h2><h2><span id="redis数据类型所有所有查看手册">redis数据类型所有所有查看手册</span></h2><p><a href="http://redisdoc.com/" target="_blank" rel="noopener">redisdoc.com</a></p>
<h2><span id="key型">KEY型</span></h2><p>常用命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">设置、获取、删除</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SET</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> GET</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> DEL</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">创建时自带生命时间</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SETEX 键名 生存时间（秒）值</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">不存在该键再创建，避免覆盖值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SETNX 键名 值</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">多个创建、多条获取、多条判断创建（其中不能包含已经存在的键）</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> MSET 键1名 值1 键2名 值2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> MGET 键1名 键2名</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> MSETNX </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">查看所有键</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> keys *</span></span><br><span class="line"><span class="meta">#</span><span class="bash">查看以A开头的键</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> keys A?</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">查看key是否存在</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> EXISTS 键名</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">删除key</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> DEL 键名</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">转移键值对到别的库中</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> MOVE 键名 库名</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">为给定的key设置生命周期时间（秒）</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> EXPIRE 键名 生命时间</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">查看key还有多少秒过期，过期后不再存在，永久删除，-1永久存在，-2已过期</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> TTL 键名</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">查看key对应的值类型</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> TYPE 键名</span></span><br></pre></td></tr></table></figure>



<h2><span id="string型">String型</span></h2><p>常用操作命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">追加字符串、获取字符串长度</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> APPEND</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> STRLEN</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">自增、自减、自定义自增、自定义自减</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> INCR 键名</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> DECR 键名</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> INCRBY 键名 长度</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> DECRBY 键名 长度</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">将字符串中某一段取出、将字符串中某一段覆盖设置为</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> GETRANGE start end</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SETRANGE 键名 起始下标 覆盖的值</span></span><br></pre></td></tr></table></figure>



<h2><span id="list型">List型</span></h2><p>Redis链表可以看作一条左面为头，右面为尾的，可以双向出入的 队列。</p>
<p>注：链表中的值变空时，对应的键也将消失。链表左右插值效率高，中间插值效率很低</p>
<p>常用操作有：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 左右入队操作</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> LPUSH key value [value ...]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> RPUSH key value [value ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 左右出队操作</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> LPOP key</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> RPOP key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看列表（0到-1表示查看全部）</span></span><br><span class="line">LRANGE key start stop</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 根据索引取值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> LINDEX key index</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取长度</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> LLEN key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除链表中的count个value值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> LREM key count value</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将原本list中的某一段 截取成 指定范围的新list</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">LTRIM key start stop</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 从一个链表中右出队一个数左进队到另一个链表中</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">RPOPLPUSH <span class="built_in">source</span> destination</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将链表上某一个索引处的值更换为新值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> LSET key index value</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在链表中的指定值（pivot）前或后插入一个值(value)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> LINSERT key BEFORE|AFTER pivot value</span></span><br></pre></td></tr></table></figure>

<h2><span id="set型">Set型</span></h2><p>Redis的集合与链表相似，只是链表可以存入重复值，集合不可以重复。常用操作有：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 添加</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SADD key member [member ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看集合中的所有值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SMEMBERS key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 判断某个值是否在集合内</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SISMEMBER key member</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取集合中元素的个数</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SCAD key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 从集合中删除值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SREM key member [member ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 从集合中随意出队n个值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SPOP key [count]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 从集合中随意查看n个值（不从集合中移除）</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SRANDMEMBER key [count]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将一个集合中的值移动到另一个集合</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SMOVE <span class="built_in">source</span> destination member</span></span><br></pre></td></tr></table></figure>

<p>集合关联的操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 以第一个集合为主，多个集合取“差集”</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SDIFF key [key ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多个集合取“交集”</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SINTER key [key ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多个集合取“并集”</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SUNION key [key ...]</span></span><br></pre></td></tr></table></figure>

<h2><span id="zset型">Zset型</span></h2><p>Redis中的z集合就是在集合的基础上，每一个值前面添加一个分数。即：value=“score + value”，常用方法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 添加</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZADD key [NX|XX] [CH] [INCR] score member [score member ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 按索引显示，0 -1表示全部查看，可以只查看值，也可以连同score一起查看</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZRANGE key start stop [WITHSCORES]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZREVRANGE key start stop [WITHSCORES] ======》反向显示</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 根据值的大小排序显示，注意“(”可以表示不包含的意思，也可以在最后限制从的n个截取m个</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]  ======》反向显示</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除z集合中的值，此处不加相连的score</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZREM key member [member ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看value个数</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZCARD key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 统计一定范围分数内的value个数</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZCOUNT key min max</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看z集合中某一个值的排名，相当于查看索引</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZRANK key member</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看zset中某一个值对应的分数</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZSCORE key member</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ZREVRANK key member  ======》反向显示</span></span><br></pre></td></tr></table></figure>

<h2><span id="hash型">Hash型</span></h2><p>Redis中的Hash型相当于java中的map&lt;String, Object&gt;类型，仍然保持键值对（K-V）的结构，只不过每一个V必须指定成小键值对（field-value）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 基本操作：插入，获取，多项插入，多项获取，不重复插入，获取所有值，删除值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HSET key field value</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HGET key field</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HMSET key field value [field value ...]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HMGET key field [field ...]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HSETNX key field value</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HGETALL key</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HDEL key field [field ...]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看<span class="built_in">hash</span>的值总体</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">  HLEN key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看某个值是否存在</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HEXISTS key field</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 仅查看一个<span class="built_in">hash</span>中的属性名或只查看属性值</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HKEYS key</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> HVALS key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 自增（整数自增和浮点数自增）</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">  HINCRBY key field increment</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">  HINCRBYFLOAT key field increment</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/%E5%88%9D%E8%AF%86Redis/" data-id="ck7amx647000bulcz1u9x6w8i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/01/01/%E6%95%B0%E6%8D%AE%E5%BA%93/MyBatis/%E5%88%9D%E5%A7%8BMyBatis/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          初识MyBatis
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Web%E6%A1%86%E6%9E%B6/">Java Web框架</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Web%E6%A1%86%E6%9E%B6/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Web%E6%A1%86%E6%9E%B6/SpringMVC/">SpringMVC</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%A5%E9%94%99%E8%AE%B0%E5%BD%95/">报错记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MyBatis/">MyBatis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/">Redis</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E5%B0%8F%E8%AE%B0/">生活小记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E5%B0%8F%E8%AE%B0/%E7%A7%91%E6%8A%80/">科技</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E5%B0%8F%E8%AE%B0/%EF%A3%BF/"></a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9B%B6%E6%95%A3%E7%AC%94%E8%AE%B0/">零散笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9B%B6%E6%95%A3%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DI/" rel="tag">DI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDEA/" rel="tag">IDEA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IOC/" rel="tag">IOC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Idea%E6%95%99%E7%A8%8B/" rel="tag">Idea教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ModelAndView/" rel="tag">ModelAndView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/" rel="tag">MyBatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/" rel="tag">Mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REST/" rel="tag">REST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse%E6%8A%A5%E9%94%99/" rel="tag">eclipse报错</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/exlipse%E6%8A%A5%E9%94%99/" rel="tag">exlipse报错</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jstl/" rel="tag">jstl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lombok/" rel="tag">lombok</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tags/" rel="tag">tags</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/" rel="tag">tomcat启动失败</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%87%E9%9D%A2/" rel="tag">切面</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E6%AE%B5%E6%8E%A7%E5%88%B6%E5%99%A8/" rel="tag">前段控制器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%84%E7%90%86%E5%99%A8/" rel="tag">处理器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%84%E7%90%86%E5%99%A8%E6%98%A0%E5%B0%84%E5%99%A8/" rel="tag">处理器映射器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%84%E7%90%86%E5%99%A8%E9%80%82%E9%85%8D%E5%99%A8/" rel="tag">处理器适配器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E7%B1%B3/" rel="tag">小米</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%A6%E6%88%AA%E5%99%A8/" rel="tag">拦截器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%99%E8%82%B2%E7%9A%84%E6%84%8F%E4%B9%89/" rel="tag">教育的意义</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B4%E5%90%88/" rel="tag">整合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" rel="tag">环境配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90/" rel="tag">视图解析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%95%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8/" rel="tag">试图解析器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%90%E8%A1%8C%E6%97%B6%E7%8E%AF%E5%A2%83/" rel="tag">运行时环境</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6/" rel="tag">隐藏文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EF%A3%BF/" rel="tag"></a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/DI/" style="font-size: 10px;">DI</a> <a href="/tags/IDEA/" style="font-size: 10px;">IDEA</a> <a href="/tags/IOC/" style="font-size: 10px;">IOC</a> <a href="/tags/Idea%E6%95%99%E7%A8%8B/" style="font-size: 10px;">Idea教程</a> <a href="/tags/Mac/" style="font-size: 20px;">Mac</a> <a href="/tags/ModelAndView/" style="font-size: 10px;">ModelAndView</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/Redis/" style="font-size: 20px;">Redis</a> <a href="/tags/SSM/" style="font-size: 10px;">SSM</a> <a href="/tags/Spring/" style="font-size: 20px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 20px;">SpringMVC</a> <a href="/tags/eclipse%E6%8A%A5%E9%94%99/" style="font-size: 10px;">eclipse报错</a> <a href="/tags/exlipse%E6%8A%A5%E9%94%99/" style="font-size: 10px;">exlipse报错</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/jstl/" style="font-size: 10px;">jstl</a> <a href="/tags/lombok/" style="font-size: 10px;">lombok</a> <a href="/tags/tags/" style="font-size: 10px;">tags</a> <a href="/tags/tomcat%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/" style="font-size: 10px;">tomcat启动失败</a> <a href="/tags/%E5%88%87%E9%9D%A2/" style="font-size: 10px;">切面</a> <a href="/tags/%E5%89%8D%E6%AE%B5%E6%8E%A7%E5%88%B6%E5%99%A8/" style="font-size: 10px;">前段控制器</a> <a href="/tags/%E5%A4%84%E7%90%86%E5%99%A8/" style="font-size: 10px;">处理器</a> <a href="/tags/%E5%A4%84%E7%90%86%E5%99%A8%E6%98%A0%E5%B0%84%E5%99%A8/" style="font-size: 10px;">处理器映射器</a> <a href="/tags/%E5%A4%84%E7%90%86%E5%99%A8%E9%80%82%E9%85%8D%E5%99%A8/" style="font-size: 10px;">处理器适配器</a> <a href="/tags/%E5%B0%8F%E7%B1%B3/" style="font-size: 10px;">小米</a> <a href="/tags/%E6%8B%A6%E6%88%AA%E5%99%A8/" style="font-size: 10px;">拦截器</a> <a href="/tags/%E6%95%99%E8%82%B2%E7%9A%84%E6%84%8F%E4%B9%89/" style="font-size: 10px;">教育的意义</a> <a href="/tags/%E6%95%B4%E5%90%88/" style="font-size: 10px;">整合</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" style="font-size: 10px;">环境配置</a> <a href="/tags/%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90/" style="font-size: 10px;">视图解析</a> <a href="/tags/%E8%AF%95%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8/" style="font-size: 10px;">试图解析器</a> <a href="/tags/%E8%BF%90%E8%A1%8C%E6%97%B6%E7%8E%AF%E5%A2%83/" style="font-size: 10px;">运行时环境</a> <a href="/tags/%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6/" style="font-size: 10px;">隐藏文件</a> <a href="/tags/%EF%A3%BF/" style="font-size: 20px;"></a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/02/27/%E6%8A%A5%E9%94%99%E8%AE%B0%E5%BD%95/eclipse%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B9%8B%E5%AF%BC%E5%85%A5%E8%BF%90%E8%A1%8C%E6%97%B6%E7%8E%AF%E5%A2%83/">eclipse的环境配置之导入运行时环境</a>
          </li>
        
          <li>
            <a href="/2020/02/27/%E7%94%9F%E6%B4%BB%E9%9A%8F%E8%AE%B0/%EF%A3%BF/Mac%E4%B8%8B%E8%AE%BE%E7%BD%AE%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6%E6%96%87%E4%BB%B6%E5%A4%B9/">Mac下设置隐藏文件/文件夹</a>
          </li>
        
          <li>
            <a href="/2020/02/23/%E7%94%9F%E6%B4%BB%E9%9A%8F%E8%AE%B0/%EF%A3%BF/MacBook%20Pro%E2%80%94%E2%80%94%E6%88%91%E7%9A%84%E8%A3%85%E5%A4%87%E5%A4%A7%E5%8D%87%E7%BA%A7/">入手Macbook pro，我的装备大升级！</a>
          </li>
        
          <li>
            <a href="/2020/02/17/%E7%94%9F%E6%B4%BB%E9%9A%8F%E8%AE%B0/%E7%A7%91%E6%8A%80/%E7%94%B1%E2%80%9C%E5%B0%8F%E7%B1%B3%E5%93%81%E7%89%8C%E2%80%9D%E5%BC%95%E8%B5%B7%E7%9A%84%E6%80%9D%E8%80%83/">2020年初对“小米”品牌的重新认识</a>
          </li>
        
          <li>
            <a href="/2020/02/17/%E9%9B%B6%E6%95%A3%E7%AC%94%E8%AE%B0/REST%E8%A7%84%E8%8C%83/">REST规范</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Tornado4651<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>